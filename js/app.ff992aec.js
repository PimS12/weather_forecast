(function(){"use strict";var e={4842:function(e,t,a){var r=a(9242),i=a(3396);const s={class:"weather-app"};function _(e,t){const a=(0,i.up)("RouterView");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(a)])}var n=a(89);const c={},o=(0,n.Z)(c,[["render",_]]);var l=o;const d={class:"weather-app"};function p(e,t,a,r,s,_){const n=(0,i.up)("WeatherMain"),c=(0,i.up)("WeatherDaily"),o=(0,i.up)("WeatherDetails");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(n,{currentWeather:s.currentWeather},null,8,["currentWeather"]),(0,i.Wm)(c,{weatherData:s.weatherData,onItemSelected:_.selectItem},null,8,["weatherData","onItemSelected"]),(0,i.Wm)(o,{selectedItem:s.selectedItem},null,8,["selectedItem"])])}var m=a(4161),h=a(7139);const w={class:"main-widget"},u=(0,i._)("span",{class:"main-widget__city"},"Москва",-1),f={class:"main-widget__weather"},v={class:"main-widget__weather-icon"},g=["src"],y={class:"main-widget__weather-temp"},W={class:"main-widget__status"};function D(e,t,a,r,s,_){return(0,i.wg)(),(0,i.iD)("div",w,[u,(0,i._)("div",f,[(0,i._)("div",v,[(0,i._)("img",{src:a.currentWeather.icon,alt:""},null,8,g)]),(0,i._)("span",y,(0,h.zw)(a.currentWeather.temperature)+"°",1)]),(0,i._)("span",W,(0,h.zw)(a.currentWeather.status),1)])}var b={name:"WeatherMain",props:{currentWeather:{type:Array,required:!0}}};const I=(0,n.Z)(b,[["render",D]]);var T=I;const M={class:"weather-daily"},O=(0,i._)("span",{class:"weather-daily__title"},"По дням",-1),x={class:"weather-daily__widget-feed"};function E(e,t,a,r,s,_){const n=(0,i.up)("weather-day");return(0,i.wg)(),(0,i.iD)("div",M,[O,(0,i._)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.weatherData,((t,a)=>((0,i.wg)(),(0,i.j4)(n,{key:a,dayWeather:t,onQwe:e.log,onClick:e=>_.selectItem(t)},null,8,["dayWeather","onQwe","onClick"])))),128))])])}const S={class:"weather-daily__widget-feed__item-day"},k={class:"weather-daily__widget-feed__item-icon"},z=["src"],F={class:"weather-daily__widget-feed__item-temp"},j={class:"weather-daily__widget-feed__item-temp__max"},A={class:"weather-daily__widget-feed__item-temp__min"};function N(e,t,a,r,s,_){return(0,i.wg)(),(0,i.iD)("div",{class:(0,h.C_)(["weather-daily__widget-feed__item",{selected:a.dayWeather.selected}])},[(0,i._)("span",S,(0,h.zw)(a.dayWeather.day),1),(0,i._)("div",k,[(0,i._)("img",{src:a.dayWeather.icon,alt:""},null,8,z)]),(0,i._)("div",F,[(0,i._)("span",j,(0,h.zw)(a.dayWeather.maxTemp)+"°",1),(0,i._)("span",A,(0,h.zw)(a.dayWeather.minTemp)+"°",1)])],2)}var Z={props:{dayWeather:{type:Object}},methods:{emitMessage(e){this.$emit("qwe",e)}}};const H=(0,n.Z)(Z,[["render",N]]);var $=H,q={name:"WeatherDaily",components:{WeatherDay:$},props:{weatherData:{type:Array,required:!0}},methods:{selectItem(e){this.weatherData.forEach((e=>{e.selected=!1})),e.selected=!0,this.$emit("item-selected",e)}}};const C=(0,n.Z)(q,[["render",E]]);var P=C,R=a.p+"img/sunrise.f6339ac9.svg",U=a.p+"img/sunset.b0dc817c.svg";const G={key:0,class:"weather-details"},X=(0,i._)("span",{class:"weather-details__title"},"Подробности",-1),Q={class:"weather-details__wrapper"},K={class:"weather-details__wrapper__data"},L=(0,i._)("hr",null,null,-1),V={class:"weather-details__wrapper__data__container"},Y={class:"weather-details__wrapper__data__container__item"},B=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"По ощущениям",-1),J={class:"weather-details__wrapper__data__container__item-data"},ee={class:"weather-details__wrapper__data__container__item"},te=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Влажность",-1),ae={class:"weather-details__wrapper__data__container__item-data"},re={class:"weather-details__wrapper__data__container__item"},ie=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Видимость",-1),se={class:"weather-details__wrapper__data__container__item-data"},_e={class:"weather-details__wrapper__data__container__item"},ne=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Давление",-1),ce={class:"weather-details__wrapper__data__container__item-data"},oe={class:"weather-details__wrapper__data__container__item"},le=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Ветер",-1),de={class:"weather-details__wrapper__data__container__item-data"},pe={class:"weather-details__wrapper__rise"},me=(0,i._)("hr",null,null,-1),he={class:"weather-details__wrapper__rise__container"},we={class:"weather-details__wrapper__rise__container__item"},ue=(0,i._)("span",{class:"weather-details__wrapper__rise__container__item-title"},"Восход",-1),fe={class:"weather-details__wrapper__rise__container__item-main"},ve=(0,i._)("div",{class:"weather-details__wrapper__rise__container__item-main__icon"},[(0,i._)("img",{src:R,alt:""})],-1),ge={class:"weather-details__wrapper__rise__container__item-main__time"},ye={class:"weather-details__wrapper__rise__container__item"},We=(0,i._)("span",{class:"weather-details__wrapper__rise__container__item-title"},"Закат",-1),De={class:"weather-details__wrapper__rise__container__item-main"},be=(0,i._)("div",{class:"weather-details__wrapper__rise__container__item-main__icon"},[(0,i._)("img",{src:U,alt:""})],-1),Ie={class:"weather-details__wrapper__rise__container__item-main__time"};function Te(e,t,a,r,s,_){return a.selectedItem?((0,i.wg)(),(0,i.iD)("div",G,[X,(0,i._)("div",Q,[(0,i._)("div",K,[L,(0,i._)("div",V,[(0,i._)("div",Y,[B,(0,i._)("span",J,(0,h.zw)(a.selectedItem.feelTemp),1)]),(0,i._)("div",ee,[te,(0,i._)("span",ae,(0,h.zw)(a.selectedItem.humidity),1)]),(0,i._)("div",re,[ie,(0,i._)("span",se,(0,h.zw)(a.selectedItem.visibility),1)]),(0,i._)("div",_e,[ne,(0,i._)("span",ce,(0,h.zw)(a.selectedItem.pressure),1)]),(0,i._)("div",oe,[le,(0,i._)("span",de,(0,h.zw)(a.selectedItem.windSpeed),1)])])]),(0,i._)("div",pe,[me,(0,i._)("div",he,[(0,i._)("div",we,[ue,(0,i._)("div",fe,[ve,(0,i._)("span",ge,(0,h.zw)(a.selectedItem.sunrise),1)])]),(0,i._)("div",ye,[We,(0,i._)("div",De,[be,(0,i._)("span",Ie,(0,h.zw)(a.selectedItem.sunset),1)])])])])])])):(0,i.kq)("",!0)}var Me={name:"WeatherDetails",props:{selectedItem:{type:Object,required:!0}}};const Oe=(0,n.Z)(Me,[["render",Te]]);var xe=Oe,Ee={name:"HomePage",components:{WeatherMain:T,WeatherDaily:P,WeatherDetails:xe},data(){return{weatherData:[],currentWeather:[],selectedItem:null}},mounted(){this.getWeatherForecast()},methods:{getWeatherForecast(){const e="7ea6b51fc4c36617b6b14b135de3c6f0",t="Moscow",a=`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=${e}&lang=ru`;m.Z.get(a).then((e=>{const t=e.data;this.processForecastData(t)})).catch((e=>{console.error(e)}))},processForecastData(e){const t={};console.log(e),e.list.forEach((a=>{const r=new Date(a.dt_txt),[i]=r.toISOString().split("T");t[i]||(t[i]={day:this.formatDate(a.dt_txt),icon:"",maxTemp:Number.MIN_SAFE_INTEGER,minTemp:Number.MAX_SAFE_INTEGER,feelTemp:this.convertTemperature(a.main.feels_like)+"°",humidity:a.main.humidity+"%",visibility:Math.floor(a.visibility/1e3)>0?(a.visibility/1e3).toFixed(0)+" км":a.visibility+" м",pressure:this.convertHPaToMmHg(a.main.pressure)+" мм",windSpeed:Math.round(a.wind.speed)+" м/с",sunrise:Number.MAX_SAFE_INTEGER,sunset:Number.MAX_SAFE_INTEGER});const s=this.convertTemperature(a.main.temp);t[i].maxTemp=Math.max(t[i].maxTemp,s),t[i].minTemp=Math.min(t[i].minTemp,s),t[i].sunrise=this.formatTime(e.city.sunrise),t[i].sunset=this.formatTime(e.city.sunset),""===t[i].icon&&(t[i].icon=this.getWeatherIconUrl(a.weather[0].icon))})),this.weatherData=Object.values(t).slice(0,7),console.log(this.weatherData),this.currentWeather={temperature:this.convertTemperature(e.list[0].main.temp),icon:this.getWeatherIconUrl(e.list[0].weather[0].icon),status:e.list[0].weather[0].description}},formatDate(e){const t=new Date(e),a={weekday:"short",timeZone:"UTC"};return t.toLocaleDateString("ru-RU",a)+", "+t.getDate()},getWeatherIconUrl(e){return`http://openweathermap.org/img/wn/${e}.png`},convertTemperature(e){return Math.round(e-273.15)},convertHPaToMmHg(e){const t=.75006375541921*e;return t.toFixed(2)},formatTime(e){const t=new Date(1e3*e),a=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0"),i=`${a}:${r}`;return i},selectItem(e){this.selectedItem=e}}};const Se=(0,n.Z)(Ee,[["render",p]]);var ke=Se,ze=a(2483);const Fe=[{path:"/",name:"home",component:ke},{path:"/any",name:"Any"}],je=(0,ze.p7)({history:(0,ze.PO)(),routes:Fe});var Ae=je;const Ne=(0,r.ri)(l);Ne.use(Ae),Ne.mount("#app")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,i,s){if(!r){var _=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],s=e[l][2];for(var n=!0,c=0;c<r.length;c++)(!1&s||_>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(n=!1,s<_&&(_=s));if(n){e.splice(l--,1);var o=i();void 0!==o&&(t=o)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,i,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/weather_forecast/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,_=r[0],n=r[1],c=r[2],o=0;if(_.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(c)var l=c(a)}for(t&&t(r);o<_.length;o++)s=_[o],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(l)},r=self["webpackChunkweather_forecast"]=self["webpackChunkweather_forecast"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(4842)}));r=a.O(r)})();
//# sourceMappingURL=app.ff992aec.js.map