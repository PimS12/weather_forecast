(function(){"use strict";var e={1291:function(e,t,a){var r=a(9242),i=a(3396);const s={class:"weather-app"};function _(e,t,a,r,_,n){const c=(0,i.up)("HomePage");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c)])}function n(e,t,a,r,s,_){const n=(0,i.up)("WeatherMain"),c=(0,i.up)("WeatherDaily"),o=(0,i.up)("WeatherDetails");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{currentWeather:s.currentWeather},null,8,["currentWeather"]),(0,i.Wm)(c,{weatherData:s.weatherData,onItemSelected:_.selectItem},null,8,["weatherData","onItemSelected"]),(0,i.Wm)(o,{selectedItem:s.selectedItem},null,8,["selectedItem"])])}var c=a(4161),o=a(7139);const l={class:"main-widget"},d=(0,i._)("span",{class:"main-widget__city"},"Москва",-1),p={class:"main-widget__weather"},m={class:"main-widget__weather-icon"},h=["src"],w={class:"main-widget__weather-temp"},u={class:"main-widget__status"};function f(e,t,a,r,s,_){return(0,i.wg)(),(0,i.iD)("div",l,[d,(0,i._)("div",p,[(0,i._)("div",m,[(0,i._)("img",{src:a.currentWeather.icon,alt:""},null,8,h)]),(0,i._)("span",w,(0,o.zw)(a.currentWeather.temperature)+"°",1)]),(0,i._)("span",u,(0,o.zw)(a.currentWeather.status),1)])}var v={name:"WeatherMain",props:{currentWeather:{type:Array,required:!0}}},g=a(89);const y=(0,g.Z)(v,[["render",f]]);var W=y;const D={class:"weather-daily"},b=(0,i._)("span",{class:"weather-daily__title"},"По дням",-1),I={class:"weather-daily__widget-feed"};function T(e,t,a,r,s,_){const n=(0,i.up)("weather-day");return(0,i.wg)(),(0,i.iD)("div",D,[b,(0,i._)("div",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.weatherData,((t,a)=>((0,i.wg)(),(0,i.j4)(n,{key:a,dayWeather:t,onQwe:e.log,onClick:e=>_.selectItem(t)},null,8,["dayWeather","onQwe","onClick"])))),128))])])}const M={class:"weather-daily__widget-feed__item-day"},O={class:"weather-daily__widget-feed__item-icon"},x=["src"],E={class:"weather-daily__widget-feed__item-temp"},S={class:"weather-daily__widget-feed__item-temp__max"},k={class:"weather-daily__widget-feed__item-temp__min"};function z(e,t,a,r,s,_){return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["weather-daily__widget-feed__item",{selected:a.dayWeather.selected}])},[(0,i._)("span",M,(0,o.zw)(a.dayWeather.day),1),(0,i._)("div",O,[(0,i._)("img",{src:a.dayWeather.icon,alt:""},null,8,x)]),(0,i._)("div",E,[(0,i._)("span",S,(0,o.zw)(a.dayWeather.maxTemp)+"°",1),(0,i._)("span",k,(0,o.zw)(a.dayWeather.minTemp)+"°",1)])],2)}var A={props:{dayWeather:{type:Object}},methods:{emitMessage(e){this.$emit("qwe",e)}}};const F=(0,g.Z)(A,[["render",z]]);var j=F,H={name:"WeatherDaily",components:{WeatherDay:j},props:{weatherData:{type:Array,required:!0}},methods:{selectItem(e){this.weatherData.forEach((e=>{e.selected=!1})),e.selected=!0,this.$emit("item-selected",e)}}};const N=(0,g.Z)(H,[["render",T]]);var P=N,Z=a.p+"img/sunrise.f6339ac9.svg",$=a.p+"img/sunset.b0dc817c.svg";const q={key:0,class:"weather-details"},C=(0,i._)("span",{class:"weather-details__title"},"Подробности",-1),R={class:"weather-details__wrapper"},U={class:"weather-details__wrapper__data"},G=(0,i._)("hr",null,null,-1),X={class:"weather-details__wrapper__data__container"},Q={class:"weather-details__wrapper__data__container__item"},K=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"По ощущениям",-1),L={class:"weather-details__wrapper__data__container__item-data"},Y={class:"weather-details__wrapper__data__container__item"},B=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Влажность",-1),J={class:"weather-details__wrapper__data__container__item-data"},V={class:"weather-details__wrapper__data__container__item"},ee=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Видимость",-1),te={class:"weather-details__wrapper__data__container__item-data"},ae={class:"weather-details__wrapper__data__container__item"},re=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Давление",-1),ie={class:"weather-details__wrapper__data__container__item-data"},se={class:"weather-details__wrapper__data__container__item"},_e=(0,i._)("span",{class:"weather-details__wrapper__data__container__item-title"},"Ветер",-1),ne={class:"weather-details__wrapper__data__container__item-data"},ce={class:"weather-details__wrapper__rise"},oe=(0,i._)("hr",null,null,-1),le={class:"weather-details__wrapper__rise__container"},de={class:"weather-details__wrapper__rise__container__item"},pe=(0,i._)("span",{class:"weather-details__wrapper__rise__container__item-title"},"Восход",-1),me={class:"weather-details__wrapper__rise__container__item-main"},he=(0,i._)("div",{class:"weather-details__wrapper__rise__container__item-main__icon"},[(0,i._)("img",{src:Z,alt:""})],-1),we={class:"weather-details__wrapper__rise__container__item-main__time"},ue={class:"weather-details__wrapper__rise__container__item"},fe=(0,i._)("span",{class:"weather-details__wrapper__rise__container__item-title"},"Закат",-1),ve={class:"weather-details__wrapper__rise__container__item-main"},ge=(0,i._)("div",{class:"weather-details__wrapper__rise__container__item-main__icon"},[(0,i._)("img",{src:$,alt:""})],-1),ye={class:"weather-details__wrapper__rise__container__item-main__time"};function We(e,t,a,r,s,_){return a.selectedItem?((0,i.wg)(),(0,i.iD)("div",q,[C,(0,i._)("div",R,[(0,i._)("div",U,[G,(0,i._)("div",X,[(0,i._)("div",Q,[K,(0,i._)("span",L,(0,o.zw)(a.selectedItem.feelTemp),1)]),(0,i._)("div",Y,[B,(0,i._)("span",J,(0,o.zw)(a.selectedItem.humidity),1)]),(0,i._)("div",V,[ee,(0,i._)("span",te,(0,o.zw)(a.selectedItem.visibility),1)]),(0,i._)("div",ae,[re,(0,i._)("span",ie,(0,o.zw)(a.selectedItem.pressure),1)]),(0,i._)("div",se,[_e,(0,i._)("span",ne,(0,o.zw)(a.selectedItem.windSpeed),1)])])]),(0,i._)("div",ce,[oe,(0,i._)("div",le,[(0,i._)("div",de,[pe,(0,i._)("div",me,[he,(0,i._)("span",we,(0,o.zw)(a.selectedItem.sunrise),1)])]),(0,i._)("div",ue,[fe,(0,i._)("div",ve,[ge,(0,i._)("span",ye,(0,o.zw)(a.selectedItem.sunset),1)])])])])])])):(0,i.kq)("",!0)}var De={name:"WeatherDetails",props:{selectedItem:{type:Object,required:!0}}};const be=(0,g.Z)(De,[["render",We]]);var Ie=be,Te={name:"HomePage",components:{WeatherMain:W,WeatherDaily:P,WeatherDetails:Ie},data(){return{weatherData:[],currentWeather:[],selectedItem:null}},mounted(){this.getWeatherForecast()},methods:{getWeatherForecast(){const e="7ea6b51fc4c36617b6b14b135de3c6f0",t="Moscow",a=`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=${e}&lang=ru`;c.Z.get(a).then((e=>{const t=e.data;this.processForecastData(t)})).catch((e=>{console.error(e)}))},processForecastData(e){const t={};console.log(e),e.list.forEach((a=>{const r=new Date(a.dt_txt),[i]=r.toISOString().split("T");t[i]||(t[i]={day:this.formatDate(a.dt_txt),icon:"",maxTemp:Number.MIN_SAFE_INTEGER,minTemp:Number.MAX_SAFE_INTEGER,feelTemp:this.convertTemperature(a.main.feels_like)+"°",humidity:a.main.humidity+"%",visibility:Math.floor(a.visibility/1e3)>0?(a.visibility/1e3).toFixed(0)+" км":a.visibility+" м",pressure:this.convertHPaToMmHg(a.main.pressure)+" мм",windSpeed:Math.round(a.wind.speed)+" м/с",sunrise:Number.MAX_SAFE_INTEGER,sunset:Number.MAX_SAFE_INTEGER});const s=this.convertTemperature(a.main.temp);t[i].maxTemp=Math.max(t[i].maxTemp,s),t[i].minTemp=Math.min(t[i].minTemp,s),t[i].sunrise=this.formatTime(e.city.sunrise),t[i].sunset=this.formatTime(e.city.sunset),""===t[i].icon&&(t[i].icon=this.getWeatherIconUrl(a.weather[0].icon))})),this.weatherData=Object.values(t).slice(0,7),console.log(this.weatherData),this.currentWeather={temperature:this.convertTemperature(e.list[0].main.temp),icon:this.getWeatherIconUrl(e.list[0].weather[0].icon),status:e.list[0].weather[0].description}},formatDate(e){const t=new Date(e),a={weekday:"short",timeZone:"UTC"};return t.toLocaleDateString("ru-RU",a)+", "+t.getDate()},getWeatherIconUrl(e){return`http://openweathermap.org/img/wn/${e}.png`},convertTemperature(e){return Math.round(e-273.15)},convertHPaToMmHg(e){const t=.75006375541921*e;return t.toFixed(2)},formatTime(e){const t=new Date(1e3*e),a=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0"),i=`${a}:${r}`;return i},selectItem(e){this.selectedItem=e}}};const Me=(0,g.Z)(Te,[["render",n]]);var Oe=Me,xe={name:"App",components:{HomePage:Oe}};const Ee=(0,g.Z)(xe,[["render",_]]);var Se=Ee,ke=a(2483);const ze=[{path:"/",name:"home",component:Oe},{path:"/any",name:"Any"}],Ae=(0,ke.p7)({mode:"hash",history:(0,ke.PO)("/weather_forecast/"),routes:ze});var Fe=Ae;const je=(0,r.ri)(Se);je.use(Fe),je.mount("#app")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,i,s){if(!r){var _=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],s=e[l][2];for(var n=!0,c=0;c<r.length;c++)(!1&s||_>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(n=!1,s<_&&(_=s));if(n){e.splice(l--,1);var o=i();void 0!==o&&(t=o)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,i,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/weather_forecast/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,_=r[0],n=r[1],c=r[2],o=0;if(_.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(c)var l=c(a)}for(t&&t(r);o<_.length;o++)s=_[o],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(l)},r=self["webpackChunkweather_forecast"]=self["webpackChunkweather_forecast"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1291)}));r=a.O(r)})();
//# sourceMappingURL=app.d18643ff.js.map